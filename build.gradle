plugins {
  id 'org.ec4j.editorconfig' version '0.0.3'
  id 'org.xtext.builder' version '2.0.8'
}

editorconfig {
  excludes = [
    '**/generated',
    '**/xtext-gen',
    'gradlew*'
  ]
}

check.dependsOn(editorconfigCheck)

subprojects {
  group = 'org.metafacture.fix'
  version = '1.0.0-SNAPSHOT'

  ext {
    versions = [
      'ace':         '1.3.3',
      'jetty':       '9.4.14.v20181114',
      'jquery':      '3.3.1-1',
      'jupiter':     '5.1.1',
      'metafacture': '5.0.1',
      'mockito':     '2.27.0',
      'requirejs':   '2.3.6',
      'slf4j':       '1.7.21',
      'xtext':       '2.17.0'
    ]
  }

  apply plugin: 'java'
  apply plugin: 'eclipse'
  apply plugin: 'org.xtext.builder'

  apply from: "${rootDir}/gradle/source-layout.gradle"

  sourceCompatibility = '1.8'
  targetCompatibility = '1.8'

  repositories {
    jcenter()
  }

  dependencies {
    compile platform("org.eclipse.xtext:xtext-dev-bom:${versions.xtext}")
  }

  configurations.all {
    exclude group: 'asm'
  }
}
